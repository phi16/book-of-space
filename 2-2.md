### 基底と座標

2つの $F$ 係数線形空間の間の構造を保つ写像は**線形写像**と呼ばれ、今まで通り全ての演算を保つことを言っています。

- $f : V\to W$ が線形写像であるとは次を満たすことを言う (**線形性**):
- 群準同型 $V \to W$ である。
- $\forall x\in V. r\in F. f(rx) = rf(x)$

興味深い点として、$f(v_i) = w_i$ という対応が十分取れれば $f : V \to W$ そのものが決定することが知られています。何故なら $V$ の要素を $v_i$ のスカラー倍と群演算で表現することができれば線形性から計算ができるからです。$v = r_1v_1+r_2v_2+\cdots+r_nv_n$ という式を $v_i$ **の線形結合**と呼びます。$f(v) = r_1f(v_1)+r_2f(v_2)+\cdots+r_nf(v_n)$ なわけです。

> これは線形写像というのは「空間のまっすぐさ」を保つために「まっすぐなものはまっすぐにしないといけない」ということです。逆に言えばまっすぐであれば良いので、角度や長さは好き放題になるかもしれません。
> なお $v_i$ などと書いた時、これは暗に写像 $v : \{0,1,\ldots,n\} \to V$ を意味しています。

$V$ の全ての点を**一意的に**線形結合で表現できるような集まり $v_i$ を**基底**と言います。一意的というのは $1\times (2,0)+3\times(1,0) = 2\times(2,0)+1\times (1,0)$ のように複数の $r_i$ の組があっては困るということです。一意性に必要な性質として次があります。

- $v_i$ が基底なら、$r_1v_1+r_2v_2+\cdots+r_nv_n = 0 \Rightarrow r_1=r_2=\cdots=r_n=0$ (**線形独立性**).
   - そうじゃなかったら $0$ の表現方法が一意じゃないので。
   - ここから自動的に $v_i\ne 0$ がわかります。

逆に次が成り立ちます。

- 全ての点を線形結合で表現できる (全域性) ような線形独立な $V$ の要素の集まり $v_i$ は基底。
    - 一意性を言えば良い。$v=\sum r'_iv_i = \sum r_iv_i$ と仮定する。
    - $\sum (r'_i-r_i)v_i = 0$ なので線形独立性より $\forall i. r_i = r'_i$
    - よって一意なので基底。

線形空間に $n$ 要素の基底が存在するとき ($n\in\mathbb{N}$)、$n$ **次元線形空間**及び**有限次元線形空間**と言います。$n$ 次元ユークリッド空間 $\mathbb{R}^n$ は直観通り $n$ 次元線形空間になり、一般に次が成り立ちます。

- $F^n$ は $F$ 係数 $n$ 次元線形空間。
    - $e_1=(1,0,0,\ldots,0), e_2 = (0,1,0,\ldots,0),\ldots,e_n = (0,0,0,\ldots,1)$ を取るとこれは明らかに基底。
    - これを**標準基底**と呼ぶ。
    
**興味深いことに、逆が成り立ちます**。

- $F$ 係数 $n$ 次元線形空間 $V$ は $F^n$ に同型。
    - 基底 $v_i$ があるとき、$v\in V$ に対して線形結合の係数を集めたもの $(r_1,r_2,\ldots,r_n)\in F^n$ を与える写像 $f$ が考えられる。
    - これは線形写像。
    - 逆に $g = (r_1,r_2,\ldots,r_n) \mapsto r_1v_1+r_2v_2+\cdots+r_nv_n$ という対応も線形写像。
    - $g\circ f$ は明らかに $1_V$ に等しい。
    - $f\circ g$ も明らかに $1_{F^n}$ に等しい。
    
この対応 $f:V \simeq F^n$ によって**ある基底を使うと** $V$ の要素を**具体的に** $F^n$ の要素として表現できることがわかります。これを**座標**と呼びます。

> $V$ という集合はほぼ何が入っているかわからないものでした。うまく計算さえできれば本当になんでもよかったのです。だけど、そんなよくわからない世界もよく見るとただの $F^n$ と同じだと考えていい、というのはとてもありがたいことなのです。
> ちなみにここで基底の存在は重要です。基底は存在するけどどれかわからない、という状況なはずで、基底を使って何かを定義した場合にはそれが**別の基底を使っても等しい値が取り出せる**必要があるのです。当分はこの問題は起きないので気にしないで大丈夫です。

次の性質は実は自明ではありません。

- $m\ne n$ のとき、線形空間として $F^n\not\simeq F^m$
    - $n < m$ を仮定しても**一般性を失わない**。
        - $m < n$ なら全部逆にすればいいため。命題に対称性があるときはよくこう書かれる。
    - 「$n < m$ のとき $F^n\not\simeq F^m$」を $n$ に関する帰納法で示す。
        - $n=0$ で成り立つ:
            - $F^0 = \{0\}$ なので $F^m$ との全単射が存在しない。
                - 体は少なくとも異なる $0$ と $1$ を持つため。
        - $n=k$ で成り立つとすると $n=s(k)$ で成り立つ:
            - $k<m$ のとき $F^k\not\simeq F^m$ とする。
            - $F^{s(k)}\simeq F^{s(m)}$ と仮定すると矛盾。
                - $F^{s(m)}$ の標準基底の要素 $e_1$ をこの同型で写した先を $u\in F^{s(k)}$ とする。
                - $F^{s(k)}$ の基底 $u_i$ で $u_1 = u$ となるものが存在する。
                    - $u$ が標準基底のある要素と一致するならそれを $u_1$ とする。
                    - そうでないなら標準基底の $e_1$ を $u$ に置き換えればこれは基底。
                - この $s(k)$ 要素の基底を同型で写した先を $w_i$ とすると、これは $F^{s(m)}$ の基底。
                    - このとき $w_1 = e_1$ である。
                - $w'_1 = w_1 = e_1, w'_i = w_i-(w_i)_1e_i\ (i>1)$ とすると、これも $F^{s(m)}$ の基底。
                    - ここで $(w_i)_j$ は $w_i = (a_1,\ldots,a_{s(m)})$ としたときの $j$ 番目の要素。
                    - このとき $\forall i>1. (w'_i)_1 = 0$ となる。
                - $r'_2w'_2+\cdots+r'_{s(k)}w'_{s(k)}$ で表現できるベクトルの集合 $W'$ は、$F^{s(m)}$ の1番目の要素が $0$ であるようなベクトルの集合 $W$ と等しい。
                    - $W'\subseteq W$ は自明。$W\subseteq W'$ を示す。
                    - 任意の $w\in W$ を取る。
                        - $w = r'_2w'_2+\cdots+r'_{s(k)}w'_{s(k)}$ と表現できないと仮定する。
                        - このとき $w = r'_1w'_1+r'_2w'_2+\cdots+r'_{s(k)}w'_{s(k)}, r'_1\ne 0$ と表現できる。
                        - すると $w$ の1番目の要素は $0$ でない。よって矛盾。
                    - 従って $w\in W'$ である。
                - この集合は線形空間を成し、$k$ 要素の基底と $m$ 要素の基底が存在している。
                - よって $F^k \simeq F^m$ より矛盾。
            - よって $s(k)<m'$ のとき $F^{s(k)}\not\simeq F^{m'}$ である。

以上から次が成り立ちます。

- $m\ne n$ のとき、$n$ 次元線形空間は $m$ 次元線形空間ではない。
    - ある $n$ 次元線形空間が $m$ 次元線形空間だとする。
    - すると $F^n\simeq F^m$ より矛盾。

つまり次元はちゃんと定まるということです。これによって有限次元線形空間 $V$ の次元を $\dim V$ で表すことができるようになりました。

> 無限次元の場合は面倒な状況にあります。線形結合に「$r_i\ne 0$ となる $i$ は有限個」という条件を加えるとほぼそのまま拡張できます (線形結合の結果が定義できるため) が**表現力が足りません**。例えば $f: A \to \mathbb{R}$ は $A$ の各点で演算を定義すれば $\mathbb{R}$ 係数線形空間になりますが、$A$ が無限集合だと上の方法だと基底が取れません。無限次元線形空間には興味深い例がたくさんありはするものの、扱いが怖いイメージがあります。
> **以後、無限次元のことは明示的に書かない限り考えないこととします**。

線形空間について考えるときは $F^n$ について考えればよく、アフィン空間は実質線形空間なので結局私達が興味を持つべき世界は $F^n$ だということになります。特に空間について考えるときは**変換**を考えたいことが多いので、次からは $F^m$ から $F^n$ への線形写像について考えていくことにします。
