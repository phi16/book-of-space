## モノの棲む世界

### 形式的論理

#### 正しさを伝えるための言語

伝えたい情報として、とてもたくさん使われることがあるのが「正しさ」です。何が正しくて何が正しくない。何は成り立って何は成り立たない。そういうことをまず表現することから始めていきましょう。何故なら私達はこれからたくさんの物事について、それが正しいと主張したいからです。

その為の媒体としては自然言語がよく使われています。「りんごは赤い」という文は、現実のりんごが赤いということが正しい、ということの表現です。しかし、これには多くの問題があります。

- まず、りんごが何か、**そこに在る見えない前提が何か**を知らないといけないという点です。人々の多くはりんごが何か知っていますが、それを当たり前だと思って良い、というのは良くないのです。**何も知らないところから、その文が実際に正しいのかどうかを判定できるべき**なのです。
- そして、人に依って違う解釈ができてしまう点があります。文にはもともと表したかった情報である**意味**が付随しているはずですが、それが表現によって失われてしまうことはよく知られた現象です。「りんごは赤い」というのは「りんごというあだ名で知られた少女はいつも赤い服を着ている」という情報の表現かもしれません。**すべての人が同じ解釈に辿り着く**べきなのです。
- 最後に、文法が完全に定まっているわけではない点があります。「りんごが赤い」という文は当然日本語として正しいことはわかりますが、「りんご、赤」のように助詞を省略することは実際に行われ、その意味解釈は受け手に委ねられることとなります。たとえ発言者の周りでは「りぎゃかー」で通じたとしても、普通は日本語では無い何かです。誰もがまず**言語として解釈できる**ことは当然の要請です。

というわけで、私達はその目的の為に新たな「言語に似た何か」を作らなきゃいけないのです。それは、未定義語は存在してはならず、構文に沿っていないものを排除でき、解釈が一通りしかありえないようなものです。実際に数学で使われているそれは==論理体系, logical system==と呼ばれます。様々な論理体系が存在するのですが、どれを使うかを宣言すればその人達の間ではちゃんと情報交換ができるのです。

一般的に使われているのは「古典一階述語論理」です。が、これを丁寧にここで作り上げるには大変すぎるので、「気持ち」をベースとしたゆるやかな解説でいきます。

先程「正しさ」と呼んだ概念、何らかに関する言明のことを==命題, proposition==と呼びます。

> ちなみにその言明が正しいかどうかは別の話で、「りんごは青い」というのは立派な命題に成りえます。「りんご」や「青い」、また「は」の意味を厳密に定めなければなりませんが。なお数学で定義された単語は、**その単語を日常で使っていたとしても**厳密な意味は異なることがあります。語の定義に完璧に従って解釈するというのは大事なことです。

命題の正しさというのは基本的に「いかなる世界であっても正しい」ことを求めています。先程言った通り読み手に依存してはいけないし、もしもそういう部分があるならそれは明示的に書かなければならないのです。例えば「りんごは赤い」は私達の世界では明らかかもしれませんが、異なる世界でのりんごは青いかもしれません。でも、「りんごが赤いならりんごは赤い」というのはどんな世界であっても正しいはずなのです。何故ならりんごが赤くない世界では**前提が満たされない**からです。

> 前提が満たされないとき、矛盾が生まれます。今回は「りんごが赤い」という前提を受け入れると「りんごは赤く、赤くない」ことになり矛盾なのです。そして**矛盾が起きたら何が起きてもおかしくない**ということが論理の一つの基礎としてあります。だから前提が満たされない議論に意味はないのです。

このような「必ず正しい」ことの判定を厳密に行いたい、というのが一つのモチベーションとなります。

#### 記号による命題の表現

世の中にはたくさんの命題がありますが、それ以上に「命題を組み合わせてできる命題」というものがあります。それは例えば「かつ」「または」「ならば」などの接続詞による文の構成に対応するモノで、それぞれ対応する意味を持つ**厳密な**命題となります。厳密であるというのはとても大事で、例えば意味解釈が一通りしかありえないのは言語として必要なことなのでした。

これらの接続詞は記号を用いて $\land, \lor, \Rightarrow$ として表現されることが多いです。記号を使うのは、明らかに厳密に定義されたモノを指していることがわかるからだと思います。そのせいで見た目が親しみづらいように見えますが、解釈に困ることはありません。これに合わせて命題などはこれから $A,B,C,\ldots$ などと「記号」を使っていくことにします。それっぽいですね。

そして新たな命題の構成で重要なのは「その命題がいつ正しいのか」、即ち意味です (むしろ意味が全てです)。先程ちょっと書いた「古典一階述語論理」の「古典」というのは、**命題は正しいか正しくないのどちらかである**、という立場であるという意味です。もうちょっとちゃんと言うと、「或る世界」を前提に置いたときに命題が正しい (==真, true==) か正しくない (==偽, false==) かのどちらかしかない、ということです。よって、記号で新たに構成された命題の意味は、構成時に使われた命題の意味である真偽に依って**のみ**定まることになります(他に情報が無いので)。実際にそれは次のように定義されます:

ある命題 $A,B$ について
- 命題 $A\land B$ は、$A$ も $B$ も真のとき、真。そうでないとき偽。
    - つまりどっちも正しいことを要求します。
- 命題 $A\lor B$ は、$A$ も $B$ も偽のとき、偽。そうでないとき真。
    - つまりどちらかが少なくとも正しいことを要求します。
- 命題 $A\Rightarrow B$ は、$A$ が偽で $B$ が真のとき、偽。そうでないとき真。
    - $A$ という前提を満たすなら $B$ が真になることを要求します。前提を満たさなければ「そうかもね」って言うしかないので真です。
- 命題 $\neg A$ は、$A$ が偽のとき、真。そうでないとき、偽。

これらを使うとある程度複雑な命題を作ることができます。例えば $(A\land B)\lor C \Rightarrow (\neg C \Rightarrow A)$ とか。計算すると $A,B,C$ に真偽をどう割り当てても(どんな世界でも)真になることがわかると思います。感覚的な意味としては:

- $A:$ 明日はお休み
- $B:$ のんびりする
- $C:$ 今日はお休み

とすれば、「明日お休みでのんびりするか、今日はお休みだとする。今日はお休みじゃないので、明日はお休み。」みたいな感じです。正しそう。何故なら今日はお休みじゃないので明日お休みでのんびりするからです。ここで重要なのは $A,B,C$ には何を入れてもいいという点で、さらにその正しさは**厳密に**保証されるということです。正しそう、とかじゃなくて正しい、と胸を張って言えるのです。

> 論理をちゃんとやるといろいろ自信が持てるのかもしれません。やりすぎると別の論理体系では正しくないのかもしれないとか思って自信を無くしそうですが。前提を正しく管理すること、その前提を正しく消化することはとても大事なのです。

先程の命題が正しいかどうか判断する方法として、$A,B,C$ の真偽の割り当てを全通り試すというものがあります。これは==意味論, semantics==と呼ばれるものにあたりますが、そうではない方法で正しさを見出すこともでき、これを==推論規則, inference rule==と言います。

- $A \land B$ の正しさは $A$ と $B$ の正しさから導出してよい
- $A \lor B$ の正しさは $A$ か $B$ の正しさから導出してよい
- $A \Rightarrow B$ の正しさは $A$ を前提としてどうにかして $B$ を導出できればよい
- $\neg A$ の正しさは、$A$ を前提としてどうにかして矛盾を導き出せればよい
- $A \land B$ が正しいとき、$A$ と $B$ のどちらの正しさも使ってよい
- $A \lor B$ が正しいとき、$A$ を前提として $C$ が導出でき、$B$ を前提として $C$ が導出できるなら、$C$ を導出したことにしてよい
- $A \Rightarrow B$ が正しいとき、$A$ の導出ができるなら $B$ の正しさも導出してよい
- $\neg A$ が正しいとき、$A$ の導出ができるなら何を導出してもよい

などのルールを用いて「正しさの導出」をしていくのです。例えば先程の例なら:

- $(A \land B) \lor C \Rightarrow (\neg C \Rightarrow A)$ を導出したい。
- 前提 $(A \land B) \lor C$ を使って $\neg C \Rightarrow A$ を導出できればよい。
    - $\neg C \Rightarrow A$ は前提 $\neg C$ を使って $A$ を導出できればよい。
        - $A \land B$ を前提とすると $A$ は導出できる。
        - $C$ を前提とするともう一つの前提 $\neg C$ があるので何を導出してもよい。よって $A$ を導出したことにしてよい。
        - よって前提 $(A \land B) \lor C$ から $A$ は導出してよい。
    - よって $\neg C \Rightarrow A$ は導出できる。
- よって $(A \land B) \lor C \Rightarrow (\neg C \Rightarrow A)$ は導出できる。
- おわり。

こうやって正しいことが示せます。このプロセスを==証明, proof==と呼びます。意味論による方法では全ての可能性を丁寧にたどっていかなくてはなりませんが、推論規則による証明はうまくいく道筋を1つでも見つければ良いのです。逆に、命題が成り立たないことを示すときには意味論による方法は一つでも偽となる世界を提示すれば良いので、どちらも使えるものではあります。

証明を行う上でとても重要なのが==前提, assumption==です。前提、仮定、文脈、世界、そういうモノがあるからこそ狭い範囲の中でしか成り立たないはずの命題について厳密に記述ができるのです。いつだって何を仮定してお話をしているのかは忘れないようにしましょう。

#### モノに言及する

今までは命題を使って命題を作る話をしました。でもこれだと例えば「1から5の中に偶数がある」ということの表現ができません。言語の表現力が足りないのです。必要なものは、命題ではない**モノ**について語る方法です。そして「どんなモノでも」とか「こんなモノが在る」という**モノ全体について言及する方法**が必要です。「古典一階述語論理」の「一階述語論理」はこれを司る部分です。

ここではモノを語る記号として命題ではない「関数記号」、及び何らかのモノを表す仮の記号として==変数, variable==が導入されます。そしてそれらによって記述されたモノに関する==述語, predicate==を導入します。それに加えて「全てのモノについてある命題が成り立つときに真」となる==全称量化, universal quantification==、「一つでも命題を成り立たせるモノがあるとき真」となる==存在量化, existential quantification==を導入することになります。

> なお量化されていない変数を持つ「命題」は意味を持ちません (つまり命題ではありません)。具体的に何かを代入すれば真偽は定まるはずですが、それがなければどう解釈していいかわからないのです。対して関数記号は何らかの1つのモノを指し示すもので、ある世界を仮定すればそのモノに関する述語の真偽が定まります。

とりあえず例を見てみましょう。

- モノ全体を、とりあえず $1,2,3,4,5,6,7,8,9,10$ にしちゃいます。そんな世界です。
- モノ $5$ を表す関数記号として $\mathbf{5}$ を導入します。
- 「$x$ は $y$ 以下の数」という述語を $P(x,y)$ で表します。
- 「$x$ は偶数」という述語を $Q(x)$ で表します。
- すると $P(x,\mathbf{5}) \land Q(x)$ で「$x$ が $5$ 以下の数で、$x$ が偶数」という述語となります。述語というのはモノに依存して定まる命題と言えます。
- そして、$\exists x. P(x,\mathbf{5}) \land Q(x)$ で「$x$ が $5$ 以下の数の中で $x$ は偶数のものが存在する」という意味になります。求めているものがほぼ表現できた形になりますね。
    - この $\exists$ を==存在量化子==及び==存在記号==と言います。「存在することを表すモノ(量)に関する命題を生む」ということです。
        - 「量化子」と呼ぶのは命題としての意味合いを持っているとき、「記号」と呼ぶのは単にその文字が気になるときだと思います。
- ちなみに $\forall$ が「すべての」を意味する記号で、例えば $\forall x. P(\mathbf{5}, x) \Rightarrow Q(x)$ は「$5$ 以上の数は全て偶数」という命題を表すことになります。
    - この $\forall$ は==全称量化子==と呼ばれます。

なんだかうまく表現できたような気がしますが、実は全く求めているものにはなっていません。この命題は私達の決めたこの世界でのみ真となるものなのです。どんな世界でも成り立つことは決して証明できないのです。それはきっと求めている状況ではありません。

そこで、根本的に先程の命題を表現する為の基盤となる==集合, set==という仕組みを整備することが行われています。ある一つの集合論を採用すると**その上で**数などのモノや偶数などの述語を記述する方法を確立できるのです。そうすれば「どんな世界でも5や偶数という概念を再現できる」ので、やりたかった表現を正しくできるようになるわけです。というわけで次節では集合という概念を作っていきます。

> ちなみに関数記号や述語記号の表記は何か決まっているわけではありません。正確に言うと、好きなように書いたとしてもそれを丁寧に解釈する方法が存在すればそう解釈しなおせば良いというだけなのです。特に演算子として $x + y$ や $x \le y$ などと記述されることが多いですね。

全称量化と存在量化の推論規則はこんな感じです。

- モノ $x$ を任意に仮定したときに $P(x)$ が導出できるなら、$\forall x. P(x)$ を導出できる。
- モノ $x$ として $P(x)$ を導出できるものが見つかったら、$\exists x. P(x)$ を導出できる。
- $\forall x. P(x)$ があるとき、モノ $y$ に関して $P(y)$ を導出してよい。
- $\exists x. P(x)$ があるとき、$P(y)$ を満たす新たなモノ $y$ をとりだしてよい。

> 今までは前提には「成り立つと思われた命題」しか入っていませんでしたが、述語論理では「モノ」そのものが前提に来ます。**前提をなかったことにする操作**が「ならば」の導出や「すべての」の導出なわけです。
> ちなみに==文脈, context==という語は数理論理学で明確に定義され、簡単に言うと「今までに得た前提やモノの列」を表します。文脈から全ては始まるのです。
