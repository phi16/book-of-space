### 構造の入った集合

今まで数の体系を5種類ほど作ってきたわけですが、それぞれ出来ることが異なる世界でありました。この「出来ること」というのは非常に重要なもので概ね何らかの名前が付いてたりします。というのは、何か具体的な集合に関する演算に関する性質を語るとき、**その具体性が本質でない**ことがしばしば起こるのです。その演算に成り立つ小さな性質をある程度集めれば大きな性質も証明できます。そして「概念化した状態で証明ができれば一般化が容易」なわけです。このような考え方を**抽象化**と言い、今までの「定義よりも特徴付け」という姿勢はその一端です。

例えば $(a+b)+c=a+(b+c)$ がわかったとしましょう。すると $((a+b)+c)+d = (a+b)+(c+d) = a+(b+(c+d))$ が証明できます。この性質を以って $a+b+c+d$ と表記することが正当化されます (どう解釈しても値が変わらないので)。そしてこの始まりの性質 (結合律) は加法・乗法・その他様々な演算に成り立つものです。これで初めていろんな演算を括弧付けずに記述することが実はわかるのです。

> $a+b\times c$ のような表記の正当化はまた別の話で、これは「$\times$ のほうが先に解釈する」というルールによるものです (今初めて宣言しました)。同様に $ab^c$ は $(ab)^c$ ではなく $a\times (b^c)$ と解釈します。また極端な例では $1.23$ は $1.2\times 3$ ではなく $1 + 0.2+0.03$ なのです。$f(x)(y)$ のように解釈が元々唯一であれば問題は無いのですが、曖昧な場合は表記を制限するか優先順位で対処する必要があります。

順に小さい性質から確認していきます。

#### 半群

集合 $X$ 上の**二項演算**と呼ばれる $X\times X \to X$ であるような写像 $\cdot$ について、**結合律** $\forall a,b,c\in\mathbb{X}. a\cdot(b\cdot c) = (a\cdot b)\cdot c$ が成り立つとき、組 $(X,\cdot)$ を**半群**と呼びます。

> 何故「組」にする必要があるかというと、演算は複数種類あってもよいからです。例えば $\mathbb{N}$ 上の演算として $+$ と $\times$ は共に結合律を満たしますし、$(x,y)\mapsto 0$ も満たします。つまり「$X$ は半群である」という言い方では演算を**取り出せない**のです。これはもう少し正確に言うと「$X$ 上の結合的二項演算が存在する」という言明になるわけですが、この問題は古典論理だと**具体的な演算を与えなくてもこれを証明できる場合がある**ことが根底にあると解釈する立場があります。逆に、具体的な存在を示さなければ証明にならないという立場を取る**直観主義論理**という体系もあり、そちらでは「$X$ は半群である」というだけで演算がちゃんとついてきます。とは言え古典論理で概ね問題ないわけで、現代はそちらが主流です。未来では変わるかも。

半群の例は大量にあります。

- それぞれの数の体系における加法・乗法
    - つまり $a+(b+c) = (a+b)+c$ 及び $a\times (b\times c) = (a\times b)\times c$ ということです。
- それぞれの数の体系における大きい方を返す写像 $\max$、小さい方を返す写像 $\min$
- 適当な集合 $X$ について
    - 各要素 $a\in X$ に対して、$X$ 上の二項演算 $(x,y)\mapsto a$
    - 任意の集合 $X$ における $X$ 上の二項演算 $(x,y)\mapsto x$ 及び $(x,y) \mapsto y$
    - $[X,X]$ 上の二項演算 $(g,f)\mapsto g\circ f$
    - $\mathcal{P}(X)$ 上の二項演算 $(A,B)\mapsto A\cap B$ 及び $(A,B)\mapsto A\cup B$
- 命題の真偽 $\mathbf{2} = \{0,1\}$ に関する $\land$ 及び $\lor$
- 半群 $(X,\cdot)$ に対して $(x,y)\mapsto y\cdot x$

半群の場合は $a\cdot b\cdot c\cdot d$ のように括弧を付けない書き方が許容される他、$\underbrace{x\cdot x\cdot \cdots \cdot x}_{n}$ が $n\ge 1$ に対して定義できるので $x^n$ という表記が使えます。例えば $(a\mapsto a+2)^n = a\mapsto a+2n$ と考えることができます。とは言え集合の要素だけから半群の演算はわからないので、使われ方が明らかな「ある数の体系の乗法」か、あったとしても「自己写像 $A \to A$ の合成」くらいにしか使われません。

> $\mathbb{R}^2 = \mathbb{R} \times \mathbb{R}$ などはこの枠組みで定義できません。何故なら**まず集合にならない**上、結合律を満たさないからです。集合にならないというのは「集合全体からなる集合」が存在しないから、結合律を満たさないのは組としては $(a,(b,c))\ne ((a,b),c)$ だからです。とは言えこの表記は便利なので、ある集合 $X$ と $n\in\mathbb{N}, n\ge 1$ に関して $X^n = \underbrace{X\times X\times \cdots \times X}_{n}$ と置くことにします。$(X\times X)\times X$ と $X\times (X\times X)$ は等しくはないものの同型にはなるので、あまり細かいことは気にしないでいきます。

#### モノイド

半群 $(X,\cdot)$ について**単位元の存在** $\exists e\in X. \forall a\in X. e\cdot a = a = a\cdot e$ が成り立つとき、これを**モノイド**と呼びます。**単位元** $e$ は $1$ と書いたりすることがあります (乗法の単位元が $1$ なので)。この $1$ は数字の $1$ というよりは記号で、前に定義した $1_A : A \to A$ もこの意味を持っています。というのは、$A$ 上の自己写像の成す半群は単位元を持ち、それがこの恒等写像なのです。

先程挙げた例にはモノイドになるものとならないものがあります。

- 加法と乗法はそれぞれ単位元が $0$ と $1$ です。
- 自然数に関する $\max$ だけは単位元 $0$ が存在します。他の数の体系の $\max$ や $\min$ には存在しません。
- $(x,y)\mapsto a, (x,y)\mapsto x, (x,y)\mapsto y$ には単位元はありません。
- $(g,f)\mapsto g\circ f$ については $1_X$ が単位元です。
- $(A,B) \mapsto A\cap B$ なら $X$、$(A,B)\mapsto A\cup B$ なら $\varnothing$ が単位元です。
- $\land$ については $1$ 、$\lor$ については $0$ が単位元となります。
- モノイド $(X,\cdot)$ に対して $(x,y)\mapsto y\cdot x$ で定義された演算は元の演算と同じ単位元を持ちます。

モノイドになると先程の $x^n$ の表記で $n = 0$ の場合を認められることになります。

> ちなみにモノイド $(X,\cdot)$ を単位元を含めて $(X,\cdot,e)$ と書く流派もあります。気持ちとしては「単位元の存在がわからないから」とも言えますが、実は演算から単位元は (存在すれば) 一意に定まるので別に書かなくてもいいという意見もあります。本質的にはどうでもいいです。

なお半群 $(X,\cdot)$ があったときに「それを含むモノイド」を構成する方法として次が知られています。

- まず任意の集合 $A,B$ について**非交和** $A\sqcup B = \{(0,a)\mid a\in A\} \cup \{(1,b)\mid b\in B\}\subseteq\mathbf{2}\times (A\cup B)$ を定義します。
    - これは $A$ と $B$ を元々違う要素を持つ集合だったとしてくっつけたものです。
    - $a\in A$ は自然に $(0,a)\in A\sqcup B$ とみなせ、また同様に $b\in B$ は自然に $(1,b)\in A\sqcup B$ と出来ます。
    - これらは埋め込みになるので $A\sqcup B$ の要素は $A\cap B = \varnothing$ のときの $A\cup B$ の要素という気持ちで書いても差し支えはありません。
- モノイド $(X\sqcup\{e\},*)$ を次で定義します。
    - $x\in X$ に対して $e*x = x*e = x$
    - $x,y\in X$ に対して $x*y = x\cdot y$

これはまさしく**単位元を在ったことにする**方法です。このように既存の構造を改造して出来ることを拡張するのはまたどこでも行われることです。ちなみに既に単位元がある場合には新しい単位元ができちゃうので「美しい」わけではないです。

おまけとして、**可換性** $\forall a,b\in X. a\cdot b = b\cdot a$ を満たすモノイドを**可換モノイド**と言います。一般に可換性を持つとき名前に可換とつけるので可換半群もそういう概念として定義されます。可換だと「集合の全要素に対して演算を実行する」ことが正当化され (順序を気にしなくていいので)、例えば $+$ に対して $\sum \{x_1,x_2,\ldots,x_n\} = x_1+x_2+\cdots x_n$ や $\bigwedge\{P,Q,R\} = P\land Q\land R$ 及び $\max\{a,b,c\} = \max(\max(a,b),c)$ などと「演算の対象として集合を与える」ことができるようになります。なお出来るとしても有限集合で、可換半群のときは要素が1つ以上存在することが要求されます。

> 本当は集合なら**冪等性** $\forall a\in X. a\cdot a = a$ も要求しないといけないはずですが、あまり気にしない傾向がありそうです。$\cup$ 及び $\land$ や $\max$ は可換かつ冪等です。
> 有限集合は未定義語ですが $\{x_1,\ldots,x_n\}$ で表せる集合と考えておけばよいです。

#### 群

モノイド $(X,\cdot)$ について**逆元の存在** $\forall x\in X. \exists y\in X. x\cdot y = y \cdot x = e$ が成り立つとき、これを**群**と呼びます。$x$ についての逆元は $x^{-1}$ と表記され、これは演算から (存在すれば) 一意に定まります。群まで行くと条件が幾分厳しく、今までの例では「自然数よりも広いときの加法」くらいしか成り立ちません (乗法は有理数だと $0$ があるのでダメ)。とは言え当然例はたくさんあります。

- 数から $0$ を除いた集合上の乗法 (**乗法群**と呼びます)
    - $0$ でない2つの値を掛けても $0$ にはならないので、ちゃんと二項演算になることがわかります。
        - 演算の結果が元の集合にちゃんと含まれることを**閉じている**と言います。
- $A$ 上の自己同型の集合 $\mathrm{Aut}(A) = \{f\in[A,A]\mid f:A\cong A\}$
    - 同型と同型の合成は同型 (2つの逆写像を合成すれば良い)。
    - 逆元は逆写像。
- $\mathbf{2} = \{0,1\}$ について、次で定義した演算
    - $0\oplus 0 = 1\oplus 1 = 0$
    - $0\oplus 1 = 1\oplus 0 = 1$
    - 条件を満たすことは計算して確かめれば良いです。
- $S^1 = \{z\in\mathbb{C}\mid |z| = 1\}$ と乗法
    - $|z_1| = |z_2| = 1$ のとき $|z_1z_2| = 1$ なので閉じています。
    - $z$ の逆元は $z^{-1}$ です。
- $n\in\mathbb{N}, n\ge 1$ について、$n$ の**倍数**からなる集合 $n\mathbb{Z} = \{x\in\mathbb{Z}\mid \exists i\in\mathbb{Z}. x = in\}$ とその上の加法
    - $in + jn = (i+j)n$ なので閉じています。
    - $in$ の逆元は $-in$ です。
- 集合 $\{*\}$ と演算 $(*,*)\mapsto *$
    - 明らかです。

特に自己同型、即ち「世界をそれ自身に丁度写す変換」というものが群を成すことは重要で、群というのは「世界に潜む1つの対称性」を表したものだと考えることができるのです。例えば群 $(S^1,\times)$ は $\mathbb{C}$ の各要素に掛け合わせることで「$\mathbb{C}$ を $0$ を中心にして回す」操作に対応させることが出来ます。回しても元に戻せることが逆元の存在によって保証されています。このような「群を使って世界に影響を与える」構造を**群作用**と呼び、厳密には次のように定義されます。

- 群 $(G,\cdot)$ 及び集合 $X$ について、写像 $*:G\times X \to X$ が群作用であるとは次が成り立つことを言う:
- $\forall x\in X. 1*x = x$
- $\forall a,b\in G, x\in X. a*(b*x) = (a\cdot b)*x$

これは群に備わっているモノである単位元と演算が**そうあるべく振る舞う**ことを要請していることになります。もう少し言うと $*:G\to\mathrm{Aut}(X)$ が**群準同型**であるという要請です。

- 群 $(G,\cdot), (H,*)$ について、$f : G \to H$ が群準同型であるとは次が成り立つことを言う:
- 単位元の保存 $f(1) = 1$
    - 左の $1$ は $G$ の単位元、右の $1$ は $H$ の単位元です。
    - わかりやすくするために $f(1_G) = 1_H$ と書くこともあります。
- 演算の保存 $f(a\cdot b) = f(a)*f(b)$

この条件があると逆元の保存は自動的に成り立つので明示はされてませんが、感情としては**全ての演算がそのまま写る**ことを要請しています。これを意図して準同型を $f: (G,\cdot) \to (H,*)$ と書くこともあります。

> 群作用の2条件と一致することは $f = a \mapsto (x \mapsto a*x) : (G,\cdot) \to (\mathrm{Aut}(X),\circ)$ を考えればわかります。

一般に、「或る性質を満たす演算を伴った集合」を**代数系**と言い、2つの代数系 $A,B$ があったときに $A$ の構造を $B$ の世界に写す写像 $f : A \to B$ を**準同型**と言います。半群準同型やモノイド準同型もあります。また、準同型で全単射なものを**同型**と言います。

> これはちょっと用語が複雑な状況です。まず、今までの同型という語は「0個の演算が伴った集合 (つまりただの集合)」における同型だったのです。その意味では写像は**集合準同型**です。「どの世界の話をしているのか」で同型の意味が変わる (とはいえ同型という意味なんですけど) ので幾分注意は必要です。
> また、実は準同型で全単射なものが同型なのは定義ではなく**定理**です。元々同型は $g\circ f = 1 \land f \circ g = 1$ で定義されましたが、これは全単射なら自動的にこれを満たすわけです (ここでの $1$ は「自分自身への何もしない代数準同型」なのですが、準同型の等しさは写像の等しさに一致するのです)。

さて、群によって対称性が記述できることがわかったわけですが、その群の性質によって対称性を**分解**できることもわかっています。感情的には「平面の移動は横移動と縦移動に分解できる」とかそういう話です。

まず集合に対する部分集合のように、群に対する**部分群**を定義します。

- 群 $(G,\cdot)$ に対し、集合 $H\subseteq G$ が部分群を成すとは次を満たすことを言う:
- $1\in H$
- $\forall a,b\in H. a\cdot b \in H$

つまり $(H,\cdot)$ が群になるということです。今までの例でも $n\mathbb{Z}$ は $\mathbb{Z}$ の部分群でした。そして、**性質の良い**部分群である**正規部分群**を次で定義します。

- 群 $(G,\cdot)$ に対し、部分群 $(H,\cdot)$ が $G$ の正規部分群であるとは次を満たすことを言う:
- $\forall h\in H. \forall g\in G. ghg^{-1}\in H$
- この状況を $G \triangleright H$ と表します。

これは $H$ が世界の影響を受けないという状況で、「回して平行移動して逆に回したら結局平行移動」みたいな話です。$H$ の操作と $G$ の操作の順序が本質的に関係ない ($h\in H$ に対して $gh=h'g$ となる $h' = ghg^{-1}\in H$ が存在する) と捉えることもできます。実際**可換群の部分群は正規部分群**です。

そして、$G\triangleright H$ のとき**実際に $H$ を分離できます**。

- $g\in G$ に対して**左剰余類** $gH = \{gh\mid h\in H\}$ を定義します。
    - $h \mapsto gh$ は全単射なのでそれ自体にはwell-defined性は関わってきません。
    - $g \mapsto gH$ が**単射ではない**ので後に気にする必要があります。
- $G/H = \{gH \mid g\in G\}$ を考え、演算 $*$ を次で定義します。
    - $gH, g'H \in G/H$ とし、$gH * g'H = \{ghg'h' \mid gh \in gH, g'h' \in g'H\}$
        - well-definedかどうかはまだわかりません。
            - 2つの $g_1,g_2$ について $g_1H = g_2H$ の場合に等しい値を返すかがわからないので。
    - ここで $\exists h''\in H. g'h'' = hg'$ より $ghg'h' = (gg')h''h$。
    - よって $gH * g'H = \{gg'h\mid h\in H\} = gg'H$.
    - $g_1H = g_2H, g'_1H = g'_2H$ と仮定すると $g_1H*g'_1H = g_2H*g'_2H$ (well-defined).
        - $g_1H \subseteq g_2H$ より $g_1 \in g_2H$ なので $\exists h\in H. g_1 = g_2h$.
        - 同様に $\exists h'\in H. g'_1 = g'_2h'$.
        - $g_1g'_1H = g_2hg'_2h'H = g_2g'_2h''h'H = g_2g'_2H$ である。
            - ここで $h'' = g'_2h(g'_2)^{-1}\in H$.
        - よって $g_1H*g'_1H = g_1g'_1H = g_2g'_2H = g_2H*g'_2H$.
- これによって $G/H$ は群を成します。これを**剰余群**と言います。
    - $(gH*g'H)*g''H = gg'g''H = gH*(g'H*g''H)$
    - $1H*gH = gH, gH*1H$
    - $gH*g^{-1}H = 1H = g^{-1}H*gH$
- なお**右剰余類** $Hg = \{hg\mid h\in H\}$ を使っても同じ結果になります。特に正規部分群の性質から $gH = Hg$ です。

> やってるときは集合とその同値関係による商集合の構成と同じで、群とその正規部分群で商群 (とも言います) を作っているという状況です。集合には構造は入っていませんでしたが群の場合は**割るときに構造を保つ**必要があるので、同値関係では足りず正規部分群であることが要請されるのです (実際 $gH = g'H$ で同値関係を成すので同値関係より**強い**状況です)。

剰余群を構成したとき、全射な準同型である**射影** $\pi = g \mapsto gH:G \to G/H$ が存在します (射影というのは「一部を潰す」くらいの意味です)。例えば $n\mathbb{Z}$ は $\mathbb{Z}$ の正規部分群になります (可換群なので) が、剰余類への射影 $\pi:\mathbb{Z} \to \mathbb{Z}/n\mathbb{Z}$ は $n$ の倍数による違いを無視する写像、即ち **$n$ で割った余りを返す写像**です。同様に $\mathbb{R}/\mathbb{Z}$ は整数部分を無視する、即ち**小数部分を返す写像**になります。これらの重要なところは剰余群として**割られた世界に名前がついて群を成す**点です。

- $\mathbb{Z}/n\mathbb{Z}$ の要素は $i+n\mathbb{Z}$ と表せ、$0\le i<n$ が割った余りに相当します。
    - 群構造が入っているのでこの上で加算ができます。例えば $(2+5\mathbb{Z}) + (3+5\mathbb{Z}) = 5\mathbb{Z}$ です。
    - これは即ち $\mathop{\mathrm{mod}} 5$ 上の演算 $2+3\equiv 0$ の表現です。
- $\mathbb{R}/\mathbb{Z}$ の要素は $x+\mathbb{Z}$ で表せ、$0\le x < 1$ が小数部分に対応します。
    - 同様に $\pi(0.598) + \pi(0.783) = \pi(0.381)$ という計算ができます。

元々周期的な世界への写像は正しくwell-definedになり、例えば $\mathbb{R}/2\pi\mathbb{Z} \to S^1$ である写像として $\theta+2\pi\mathbb{Z}\mapsto \exp(i\theta)$ を与えることができます。これは**群同型**にもなります。

> 剰余類の演算の記号は変える必要も無いと思うので元々の群と同じものを使うことにします。先の群同型は $(\mathbb{R}/2\pi\mathbb{Z},+)\cong(S^1,\times)$ です。
> そういえば最初に定義した群 $(\mathbf{2},\oplus)$ は $(\mathbb{Z}/2\mathbb{Z},+)$ と同型です。

代数系によってそれぞれ特徴や表現できる範囲が結構異なることがよくわかると思います。一般に**制約が強ければ強いほど具体例は少なく、証明できる定理が多い**です。ちょっとした制約の違いで世界が全く違うことは起きるものなのです。定義よりもその先に広がる世界が重要だと思うのです。

#### 環

環とは、可換群とモノイドを兼ね備えた構造です。前者が加法、後者が乗法となり「加減算と乗算ができる体系」を成すことになります。定義はこうです:

- 集合 $X$ とその上の2つの二項演算 $+,\times$ の3つ組が**環**を成すとは
- $(X,+)$ が群を成し、$(X,\times)$ がモノイドを成し、次の**分配律**が成り立つことを言う。
- $a\times (b+c) = a\times b + a\times c, (a+b)\times c = a\times c + b\times c$
    - これは $a\times -$ 及び $-\times c$ が $(X,+)$ に関する自己準同型であるというのと同じです。
        - 分配律を満たすと自動的に加法単位元・加法逆元を保つので気にしていません。
        - 一緒に2つのものを扱うときはそれらの仲が良いと嬉しいわけです。特に式を単純にできます。

> $(X,\times)$ を半群で抑えたものを環と定義する流派もありますが、今回は基本的に乗法単位元のある環を扱うのでこちらを環と呼ぶことにします。
> なお**可換環**は乗法が可換な環です。

この時 $(X,+)$ の単位元を $0$、$(X,\times)$ の単位元を $1$ と表記することとします。例としては次のようなものがあります:

- $\mathbb{Z},\mathbb{Q},\mathbb{R},\mathbb{C}$ は加法と乗法で環を成します。
- 環 $R$ に対して:
    - ある集合 $A$ からの写像 $[A,R]$ は次の演算で環を成します。
        - $f+g = a\mapsto f(a)+g(a)$
        - $f\times g = a\mapsto f(a)\times g(a)$
    - **多項式環** $R[X]$ を次で定義できます。
        - $R[X] = \{f:\mathbb{N} \to R\mid \exists n\in \mathbb{N}.\forall i\in\mathbb{N}. n<i \Rightarrow f(i) = 0\}$
            - つまり $R=\mathbb{Z}$ なら列 $2,-3,1,0,0,\ldots$ とか $1,0,0,\ldots$ とかです。
            - 途中で終わる数列と解釈できます。
        - $x,y\in R[X]$ について
            - $x+y = i\mapsto x(i)+y(i)$
            - $x\times y = i\mapsto \sum\limits_{j=0}^i x(j)\times y(i-j)$
        - $X = 0,1,0,0,\ldots \in R[X]$ とすると $f\in R[X]$ は $f(n)\times X^n + f(n-1)\times X^{n-1} + \cdots + f(0)$ と表せます。
        - よって $X$ に掛かる値である**係数**が $R$ の要素であるような多項式の成す環になります。
            - 例えば $(X^2+X+1)\times (X-1) = X^3-1$ です。
    - 群に対する正規部分群のように、環に対する**イデアル**を使うと剰余環を作れます。
        - $I\subseteq R$ がイデアルであるとは次を満たすことを言います。
            - $+$ が $I$ について閉じている。
            - $\forall x\in R, y\in I. x\times y \in I \land y\times x \in I$
        - このとき $x,y\in R$ を関係 $x-y\in I$ で割ると**剰余環** $R/I$ ができます。
            - 例えば $R = \mathbb{Z}[X]$ のイデアルとして $(X^2-2)R = \{(X^2-2)\times x\mid x\in R\}$ を考えると、その剰余環 $R/(X^2-2)R$ は $X^2-2=0$ である世界、即ち $\mathbb{Z}[\sqrt 2] = \{x+y\sqrt{2}\mid x,y\in\mathbb{Z}\}$ が出来ます。
                - これはちゃんと加法と乗法について閉じています。
                - このようなイデアルの構成は $X^2-2$ を含む最小のイデアルとなり、**生成された**イデアルと言って $\langle X^2-2\rangle$ などと書きます。
            - また、$\mathbb{Z}$ に対する $n\mathbb{Z}$ はイデアルになるので $\mathbb{Z}/n\mathbb{Z}$ は剰余環でもあります。

また、環準同型は加法と乗法及び乗法単位元を保つものとして定義されます。他はこれらから出てきます。

> $f(0)+f(0) = f(0+0) = f(0)$ より $f(0) = 0$.
> また $f(-a) + f(a) = f(-a+a) = 0, f(a) + f(-a) = f(a-a) = 0$ より $f(-a) = -f(a)$.

環のことはあまり詳しくないので使われる方向性みたいなものが書けなかったです。整数に関する性質を辿っていくには環が良い世界になるようですが、この本は実数の成す世界を求めているのでとりあえずは置いておきたいと思います。

> 当然実数の成す世界の「骨組み」には環が潜んでいるわけですが。代数というのはそういうものなので。

#### 体

この節の目指してきた目標が**体**です。これは**加減乗除ができる世界**で、体をベースにして世界を展開していきたいのです。定義は「$0$ を抜くと乗法が群を成す可換環」です。つまり $(K,+,\times)$ を体とすると $(K\setminus \{0\},\times)$ が群になり、**乗法群** $K^\times$ と呼ばれます。

> 一般に「乗法逆元を持つものを集めた」ときに乗法群と呼びます。なお群には単位元が必要なことから、$1\in K\setminus\{0\}$ 即ち $0\ne 1$ が従います。
> ちなみに**可換**環を仮定しているので体は既に可換なのですが、可換でない体を**斜体**と呼びます。重要なのは感情であって見た目の整合性ではありません。とはいえ言葉の定義は場合によるのでちゃんと可換体と呼ぶこともあります。

推測できるように $\mathbb{Q},\mathbb{R},\mathbb{C}$ は体になります。また、$\mathbb{Z}/n\mathbb{Z}$ は一般には体にはなりませんが、ある条件の下で体になります。

- $\mathbb{Z}/n\mathbb{Z}$ は $n\ge 1$ が素数であるとき、そしてそのときに限り体になる。
    - ここで $n\in\mathbb{N}$ が**素数**であるとは、$n>1$ で $\neg\exists i,j\in\mathbb{N}.1\le i<n\land 1\le j<n \land n = ij$ であることを言う。
        - 素数には $2,3,5,7,11$ などがあります。
    - $\forall x\in\mathbb{Z}/n\mathbb{Z}, 0<x<n$ に対して $x\times y = 1$ となる $y\in\mathbb{Z}/n\mathbb{Z}$ があればよい。
    - これは $xy+mn=1$ であるような $(y,m)\in\mathbb{Z}\times\mathbb{Z}$ の存在と等価。
    - これは $\gcd(x,n) = \max\{i\in\mathbb{N}^+\mid \exists x',n'\in\mathbb{N}. x=x'i, n=n'i\} = 1$ と等価。
        - $\gcd(x,n) = 1$ のとき $xy+mn=1$ である $(y,m)$ を計算する方法として**拡張ユークリッドの互除法**が知られている。
        - $xy+mn=1$ とする。$\gcd(x,n) \ne 1$ を仮定すると $x=x'i, n=n'i$ なので $1$ が $i$ の倍数になるので矛盾。
    - これは全ての $0<x<n$ を $n$ が割り切らないことを表す。
    - よって $n$ が素数であることと等価。
- このとき、$x\ne 0$ の逆元は $x^{n-2}$ で与えられる (**フェルマーの小定理**)。
    - $4\in \mathbb{Z}/7\mathbb{Z}$ なら $4^{7-2} = 1024 = 2$ で $2\times 4 = 1$ というわけです。
    - 計算するには便利です。

有限集合上の体を**有限体**と言います。$\mathbb{Z}/n\mathbb{Z}$ で表されるもの以外にも有限体は存在していて、暗号などに使われていたりします。

> 可換環 $(\mathbb{Z}/2\mathbb{Z})[X]/\langle X^2-X-1\rangle$ は要素が4つの有限体になります。
> - $X^2=X+1$ になるので存在する要素は $0,1,X,X+1$ だけであると言えます。
> - $X\times (X+1) = X^2+X =X+1+X=1$ というわけです。

何はともあれ加減乗除が自由にできる世界が手に入りました。お疲れさまです。この章の残りはおまけみたいなものです。

#### 順序

順序関係の定義された集合を**順序集合**と言います。全順序であったなら全順序集合です。これも今までと同様に順序関係の組 $(X,\le)$ などで表されることになります。順序が定まっているとき、次の2つの演算を定義することができます。

- **交わり** $a\land b = \begin{cases}a&\text{if }a\le b\\b&\text{otherwise}\end{cases}$
- **結び** $a\lor b = \begin{cases}b&\text{if }a\le b\\a&\text{otherwise}\end{cases}$

これらは可換モノイドを成します。順序集合の例は今までの数の体系などの他にもいろいろあります。

- $(\mathcal{P}(A),\subseteq)$ は順序集合です。全順序とは限りません。
    - このとき $A\land B = A\cap B, A\lor B = A\cup B$ です。
- 命題の真偽の集合 $\mathbf{2}$ に於いて、$(\mathbf{2},\Rightarrow)$ は全順序集合です。
    - 「$A$ ならば $B$」というのは「$A$ が成り立つ世界は $B$ の成り立つ世界に含まれている」と解釈することもできます。
        - この順序集合は $(\mathcal{P}\{*\},\subseteq)$ と同型です。
    - $A\land B$ と $A\lor B$ は元の記号と一致します。
- 順序集合 $(X,\le)$ に対し、$(X,\ge)$ は順序集合になります。
    - つまり大きいか小さいかというのは好きに決めちゃえるものなのです。
- ちなみに $\mathbb{C}$ には順序が定義されていません。
    - $x\le y\iff |x|\le|y|$ としてもダメです (反対称律を満たしません)。
    - 無理やり定義することはできますが、群の演算と仲が良くはなりません。

代数系に対する準同型のように、順序集合の構造を保つ写像を**単調写像**と言います。つまり $f:X\to Y$ が $\forall x_1,x_2. x_1\le x_2\Rightarrow f(x_1)\le f(x_2)$ のとき単調です (前にもやりました)。特に数の体系 ($\mathbb{C}$ は除く) に対しては、どんな $a$ に対しても $x\mapsto a+x$ は単調写像になります。つまり嬉しいということです。

順序集合における同型は単調な全単射のこと**ではありません**。逆写像が単調とは限らなくて、具体例としては $(X,\le)$ に対して順序を適当に減らした関係 $\preceq$ を考えたときの恒等写像 $1_X : (X,\preceq)\to (X,\le)$ があります。全順序集合上の同型は単調全単射と一致します。

#### 距離

2つの数の「隔たり」は $|x-y|$ で計算されてきました。これは直観的にも正しく振る舞い、**距離**としての抽象化を示唆するものとなります。

- 集合 $X$ と距離関数 $d:X\times X\to\mathbb{R}$ が**距離空間**を成すとは、次を満たすことを言う:
- $\forall x,y\in X. d(x,y) \ge 0$
- $\forall x,y\in X. d(x,y) = 0 \iff x = y$
- $\forall x,y\in X. d(x,y) = d(y,x)$
- $\forall x,y,z\in X. d(x,z) \le d(x,y) + d(y,z)$ (**三角不等式**)
    - これは「寄り道する方が遅い」という意味です。

$\mathbb{N,Z,Q,R,C}$ には $d(x,y) = |x-y|$ で距離空間の構造が入るわけですが、それだけでなく $\mathbb{Z}/n\mathbb{Z}$ や $S^1$ にも距離は入ります (円周を回る道で近い方を取ればよい)。直観的には「空間らしいもの」には距離の構造が入って、最短経路を使えば自動的に三角不等式を満たすこともわかります。

重要な例として $\mathbb{R}^n$ があります。距離を $d((x_1,\ldots,x_n),(y_1,\ldots,y_n)) = \sqrt{(x_1-y_1)^2 + \cdots + (x_n-y_n)^2}$ で定義すると距離空間となり、$\mathbb{R} = \mathbb{R}^1$ のときの一般化となっていることがわかります。これはいわゆる $n$ 次元空間で、もっと言うと $n$ **次元ユークリッド空間**と言います。

> 距離空間になると集合の要素は**点**と呼ばれることが多いです。点に見えてくるので。

さて、距離の概念があると収束の概念を一般化できます。点列 $v : \mathbb{N} \to X$ が**収束する**とは、$\exists \alpha\in X. \forall \varepsilon>0. \exists n\in\mathbb{N}. \forall i\in \mathbb{N}. n\le i\Rightarrow d(\alpha,v(i)) < \varepsilon$ であることを言います。また、有界単調増加列の代わりに「だんだん小さくなる集合列」を考え、それが常に収束することを**完備**であると言います。$\mathbb{Q}$ は完備ではなく、$\mathbb{R}$ は完備です。

> だんだん小さくなる集合列とは、写像 $v:\mathbb{N} \to \mathcal{P}(X)$ で次を満たすものです。
> - $i < j \Rightarrow v(i) \supseteq v(j)$
> - 数列 $i\mapsto D(v(i))$ が $\mathbb{R}$ 上で $0$ に収束
>     - ここで $D$ は $D(A) = \sup\{d(x,y)\mid x,y\in A\}$
>         - $\sup$ は与えられた数たち以上になる最小の実数です。
>     - $D$ は有限とは限らないので、もし有限にならなかったら ($\forall r\in\mathbb{R}^+. \exists x,y\in A. r < d(x,y)$ なら) $v$ は条件を満たさないということにします。

代数系と同様に距離を保つ写像を考えたいとすると、自然に**等長写像**の概念が出てきます。距離空間 $(X,d_X),(Y,d_Y)$ において $f:X\to Y$ が等長写像であるとは $\forall x,y\in X. d_X(x,y) = d_Y(f(x),f(y))$ であることを言います。また、似たような概念として**縮小写像**があり、これは $0\le r<1$ が存在して $\forall x,y\in X. rd_X(x,y) \ge d_Y(f(x),f(y))$ であることを言います。

それらとはまた別に、距離までとは言わなくても**つながりを保つ**ことを表す**連続写像**という概念があります。定義は収束の定義と似たような感じで多少複雑です。

- まず $f:X\to Y$ が $x$ で**連続**であるとは次を満たすことを言う。
- $\forall \varepsilon>0.\exists \delta>0. \forall y\in X. d_X(x,y)<\delta \Rightarrow d_Y(f(x),f(y))<\varepsilon$.
    - $x$ のちょっとまわり $\{y\in X\mid d_X(x,y)<\delta\}$ が $f(x)$ のちょっとまわりに写ることを表します。
    - 「ちょっと」というのが**いくらでも小さく**取れるので単純でないのです。
- $f:X\to Y$ が**連続写像**であるとは、全ての点 $x\in X$ で連続であることを言う。

これによって、$x\mapsto x^2:\mathbb{R}\to\mathbb{R}$ は連続だけど $x\mapsto \lfloor x\rfloor:\mathbb{R}\to\mathbb{Z}$ は連続ではないことがわかります。実際 $\mathbb{Z}$ は距離的にバラバラなわけで、一本の線のようになっている $\mathbb{R}$ を分断してそれぞれ送るしかないのです ($\mathbb{R} \to \mathbb{Z}$ の連続写像は定数しかありません)。また、$\mathbb{Q}$ が完備でないことから $\mathbb{Q}$ は**至るところバラバラ**だと考えることもできます。

嬉しい写像は連続であることが非常に多いです。そしてさらに**なめらか**と言われる性質を持つこともあり、なめらかであればあるほど写像の性質が決定していくことになります。

#### たくさんの構造と世界

今まで紹介した構造以外にも当然重要な構造は色々在ります。とはいえ目的に応じて必要なものは変わるわけで、とりあえず今回はこれに留めておくこととします。

構造そのものを数学的に扱う構造として**圏**があります。集合から群を構成する方法や、直積や多項式環の特徴付けそのものを統一的に扱うことで色々な概念を**具体的な概念に触れることなく**作り出すことができる理論です。今までにも色々な定義が最終的に一致したことがありましたが、その先が気になることがあればおすすめです。

とは言えいわゆる**空間**についての物語にはあまり関わってきません。次章からは**世界がいくらでもまっすぐに広がっている**ことを表す線形空間について考えていきます。
